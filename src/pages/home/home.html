<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-label float-left="">Home</ion-label>
    <ion-label float-right>{{getUserData("full_name")}}</ion-label>
  </ion-navbar>
</ion-header>

<ion-content>
  <div *ngIf="isUserAuthenticated(); then authenticatedBlock else unknownUserBlock"></div>
</ion-content>

<!--The login block for unauthenticated users-->
<ng-template #unknownUserBlock>
  <div>
    <h1>Traccia GSI</h1>
    <page-login></page-login>
  </div>
</ng-template>

<!--The block to use to show current status-->
<ng-template #authenticatedBlock>
  <div>
    <ion-grid>
      <ion-row>
        <ion-col>
          <h3>
            <ion-label color="lightest">Ciao {{getUserData("first_name")}}!</ion-label>
          </h3>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <button ion-button (click)="scanQR()">SCAN</button>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <code>{{lastScannedBarcode}}</code>
        </ion-col>
      </ion-row>

    </ion-grid>
  </div>
</ng-template>










